echo Starting CoreOS Stable installer
set base-url http://<%=server%>:<%=port%>/coreos
# coreos.autologin <-- enable as kernel param to autologin for easier debugging
# reference: https://coreos.com/os/docs/latest/booting-with-ipxe.html
kernel ${base-url}/coreos_production_pxe.vmlinuz console=tty0 console=<%=comport%>,115200n8 coreos.autologin cloud-config-url=http://<%=server%>:<%=port%>/api/common/templates/pxe-cloud-config.yml
# testing installation with shell script process...
# kernel ${base-url}/coreos_production_pxe.vmlinuz console=tty0 console=<%=comport%>,115200n8 coreos.autologin cloud-config-url=http://<%=server%>:<%=port%>/api/common/templates/install-coreos.sh
initrd ${base-url}/coreos_production_pxe_image.cpio.gz
boot || prompt --key 0x197e --timeout 2000 Press F12 to investigate || exit shell
